<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>สถิติการว่างงานในประเทศไทย</title>

<link type="text/css" rel="stylesheet" href="css/base.css" />
<link type="text/css" rel="stylesheet" href="css/Icicle.css" />
<link type="text/css" rel="stylesheet" href="css/infostyle.css" />
  	
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" src="http://api.simile-widgets.org/timeplot/1.1/timeplot-api.js"></script>
<script type="text/javascript" src="js/jit.js"></script>
<script type="text/javascript" src="js/icicle.js"></script>

<script type="text/javascript">
	google.load("visualization", "1", {packages:["corechart","geochart"]});
	google.setOnLoadCallback(drawChart);

	function drawOverallTrendPercentageChart() {
		var employData = google.visualization.arrayToDataTable([
					['Year', 'Percent'],
					['48', 97.5788513],
					['49', 97.9591125],
					['50', 98.1253685],
					['51', 98.1862925],
					['52', 98.1251729],
					['53', 98.431458],
					['54', 98.8262533],
					['55', 98.8106211],
		]);
		
		var unemployData = google.visualization.arrayToDataTable([
					['Year', 'Percent'],
					['48', 1.83487237],
					['49', 1.514537691],
					['50', 1.376415143],
					['51', 1.384548131],
					['52', 1.489419888],
					['53', 1.040748234],
					['54', 0.67915991],
					['55', 0.657468476],
		]);
		
		var seasonData = google.visualization.arrayToDataTable([
					['Year', 'Percent'],
					['48', 0.586277696],
					['49', 0.526348452],
					['50', 0.498216399],
					['51', 0.429158727],
					['52', 0.385406588],
					['53', 0.527794451],
					['54', 0.494586839],
					['55', 0.531910378],
		]);
		
		var options = {
			legend: {
				position: 'none'
			},
			vAxis: {
				title: '%',
				textPosition: 'out'
			},
			hAxis: {
				title: 'ปี (พ.ศ.)'
			},
			chartArea: {
				width: 200
			}
		};

		var chart = new google.visualization.LineChart(document.getElementById('employed_trend'));
		chart.draw(employData, options);
		
		var chart2 = new google.visualization.LineChart(document.getElementById('unemployed_trend'));
		chart2.draw(unemployData, options);
		
		var chart3 = new google.visualization.LineChart(document.getElementById('season_inactive_trend'));
		chart3.draw(seasonData, options);
	}
      
	function drawMaleFemaleQuantityChart() {
		
		// Line Chart API Document
		// https://google-developers.appspot.com/chart/interactive/docs/gallery/linechart
		
		var data = google.visualization.arrayToDataTable([
					['Year', 'Male',      'Female'],
					['2548', 19334658.5,  15922514.25],
					['2549', 19416435.5,  16269094],
					['2550', 19695739.25, 16553714.75],
					['2551', 20092424,    16924188],
					['2552', 20489253.25, 17217068],
					['2553', 20652483.195375, 17384858.856125],
					['2554', 20814282.4875, 17650384.34],
					['2555', 21129083.6325, 17810046.35]
		]);

		var options = {
			//backgroundColor: '#aaaaaa',
			legend: {
				position: 'top'
			},
			vAxis: {
				title: 'จำนวน',
				minValue: 10000000,
				maxValue: 24000000,
			},
			hAxis: {
				title: 'ปี',
				titleTextStyle: {
					color: 'black',
  					//fontName: <string>,
					//fontSize: <number>,
					//bold: <boolean>,
					italic: false 
				}
			}
		};

		var chart = new google.visualization.LineChart(document.getElementById('male_female_quan_chart'));
		chart.draw(data, options);
	}

	function drawMaleFemaleRatioChart() {
		var data = google.visualization.arrayToDataTable([
					['Year', 'Male',  'Female'],
					['2548', 0.79162, 0.62706],
					['2549', 0.79301, 0.62967],
					['2550', 0.79563, 0.62967],
					['2551', 0.79740, 0.63374],
					['2552', 0.79810, 0.63428],
					['2553', 0.79472, 0.63276],
					['2554', 0.79315, 0.63579],
					['2555', 0.79792, 0.63531]
		]);

		var options = {
		};

		var chart = new google.visualization.LineChart(document.getElementById('male_female_ratio_chart'));
		chart.draw(data, options);
	}
	
	function drawUnemployedByDegreeChart(year) {
		var unemploy_data = {};
		unemploy_data['2548'] = new Array(38.7, 21.9, 11.4, 4.6, 7.9, 15.5);
		unemploy_data['2549'] = new Array(36.6, 21.6, 13.1, 4.3, 6.2, 18.2);
		unemploy_data['2550'] = new Array(32.8, 22.1, 13.2, 4.6, 8.4, 18.9);
		unemploy_data['2551'] = new Array(31.4, 23.8, 12.7, 5.6, 8.4, 18.2);
		unemploy_data['2552'] = new Array(30, 23.3, 12.5, 5.9, 9.2, 19.1);
		unemploy_data['2553'] = new Array(27, 22.6, 12.1, 5.3, 8.4, 24.5);
		unemploy_data['2554'] = new Array(26.7, 21.8, 12.7, 5.2, 9.1, 24.5);
		unemploy_data['2555'] = new Array(22, 22.8, 14.9, 5.1, 10, 25.2);

		var data = google.visualization.arrayToDataTable([
					['วุฒิการศึกษา'        , 'Percent',],
					['ประถมศึกษาและต่ำกว่า' , unemploy_data[year][0]],
					['มัธยมต้น'           , unemploy_data[year][1]],
					['มัธยมปลาย (สายสามัญ)', unemploy_data[year][2]],
					['อาชีวศึกษา'          , unemploy_data[year][3]],
					['วิชาชีพชั้นสูง'         , unemploy_data[year][4]],
					['อุดมศึกษา'           , unemploy_data[year][5]]
		]);
		
		// BarGraph API Documents
		// https://google-developers.appspot.com/chart/interactive/docs/gallery/barchart
		
		var options = {
			//title: 'Company Performance',
			//vAxis: {title: 'Year',  titleTextStyle: {color: 'red'}}
			colors: ['#eb6750'],
			legend: {
				position: 'none',
			},
			hAxis: {
				title: 'เปอร์เซ็นต์ (%)',
				ticks: [0, 5, 10, 15, 20, 25, 30],
				gridlines: {
					count: 5
				}
			},
			vAxis: {
				title: 'วุฒิการศึกษาสูงสุด'
			}
        };

        var chart = new google.visualization.BarChart(document.getElementById('unemploy_by_degree_chart'));
        chart.draw(data, options);

	}
	
	function drawUnemployedByDegreeTrendChart() {
		var data = google.visualization.arrayToDataTable([
					['Year', 'ประถม/ต่ำกว่า', 'มัธยมต้น', 'มัธยมปลาย', 'อาชีวศึกษา', 'วิชาชีพชั้นสูง', 'อุดมศึกษา'],
					['48', 38.7, 21.9, 11.4, 4.6, 7.9, 15.5],
					['49', 36.6, 21.6, 13.1, 4.3, 6.2, 18.2],
					['50', 32.8, 22.1, 13.2, 4.6, 8.4, 18.9],
					['51', 31.4, 23.8, 12.7, 5.6, 8.4, 18.2],
					['52', 30, 23.3, 12.5, 5.9, 9.2, 19.1],
					['53', 27, 22.6, 12.1, 5.3, 8.4, 24.5],
					['54', 26.7, 21.8, 12.7, 5.2, 9.1, 24.5],
					['55', 22, 22.8, 14.9, 5.1, 10, 25.2]
		]);
		
		var options = {
			title: 'Unemployed by degree'
		};

		var chart = new google.visualization.LineChart(document.getElementById('unemploy_by_degree_trend'));
		chart.draw(data, options);
	}
	
	function drawUnemployedMap(year) {
		
		var unemploy_region_data = {};
		unemploy_region_data['2548'] = google.visualization.arrayToDataTable([
					['City', 'อัตราการว่างงาน'],
					['Kamphaeng Phet', 10309.5/390448.25],
					['Chiang Rai', 15741.25/637779.25],
					['Chiang Mai', 34096.75/872191.25],
					['Tak', 7058.5/197519.25],
					['Nakhon Sawan', 3090.5/650426],
					['Nan', 5468.75/240145]
		]);
		unemploy_region_data['2549'] = google.visualization.arrayToDataTable([
					['City', 'อัตราการว่างงาน'],
					['Kamphaeng Phet', 10309.5/390448.25],
					['Chiang Rai', 15741.25/637779.25],
					['Chiang Mai', 34096.75/872191.25],
					['Tak', 7058.5/197519.25],
					['Nakhon Sawan', 3090.5/650426],
					['Nan', 5468.75/240145]
		]);
		unemploy_region_data['2550'] = google.visualization.arrayToDataTable([
					['City', 'อัตราการว่างงาน'],
					['Kamphaeng Phet', 10309.5/390448.25],
					['Chiang Rai', 15741.25/637779.25],
					['Chiang Mai', 34096.75/872191.25],
					['Tak', 7058.5/197519.25],
					['Nakhon Sawan', 3090.5/650426],
					['Nan', 5468.75/240145]
		]);
		
		/* more */
		
		unemploy_region_data['2555'] = google.visualization.arrayToDataTable([
					['City', 'อัตราการว่างงาน'],
					['Kamphaeng Phet', 1],
					['Chiang Rai', 2],
					['Chiang Mai', 5],
					['Tak', 3],
					['Nakhon Sawan', 1],
					['Nan', 3]
		]);

		var options = {
			region: 'TH',
			displayMode: 'region',
			resolution: 'provinces',
			colorAxis: {colors: ['#ffffff', '#eb6750']}
		};

        var chart = new google.visualization.GeoChart(document.getElementById('unemploy_map'));
        chart.draw(unemploy_region_data[year], options);
	}

	function drawChart() {
		drawOverallTrendPercentageChart();
		
		drawMaleFemaleQuantityChart();
		drawMaleFemaleRatioChart();
		
		drawUnemployedByDegreeChart('2555');
		drawUnemployedByDegreeTrendChart();
		
		// By year
		drawUnemployedMap('2555');
	}
	
	/* Simile Timeplot function */
	var timeplot;
	function initTimeplotOnLoad() {
		var unemployrateSource = new Timeplot.DefaultEventSource();
		
		var timeGeometry = new Timeplot.DefaultTimeGeometry({
			gridColor: new Timeplot.Color("#000000"),
			axisLabelsPlacement: "top"
		});

		var valueGeometry = new Timeplot.DefaultValueGeometry({
			gridColor: "#000000",
			axisLabelsPlacement: "left",
			min: 0,
			max: 1
		});
		
		var plotInfo = [
			Timeplot.createPlotInfo({
				id: "Unemployed Rate",
				dataSource: new Timeplot.ColumnSource(unemployrateSource,1),
				timeGeometry: timeGeometry,
				valueGeometry: valueGeometry,
				lineColor: "#ff0000",
				fillColor: "#cc8080",
				showValues: true
		})
		];
		
		timeplot = Timeplot.create(document.getElementById("unemploy_timeplot"), plotInfo);
		timeplot.loadText("unemployrate_2004-2012.txt", ",", unemployrateSource);
	}
	
	var resizeTimerID = null;
	function initTimeplotOnResize() {
		if (resizeTimerID == null) {
			resizeTimerID = window.setTimeout(function() {
				resizeTimerID = null;
				timeplot.repaint();
 			}, 100);
		}
	}
	
	function initGraph() {
		init();
		//initTimeplotOnLoad();
	}
	
	function resizeGraph() {
		//initTimeplotOnResize();
	}
	
	function select_view_year(year) {
		drawUnemployedMap(year);
	}
</script>

</head>

<body onload="initGraph();" onresize="resizeGraph();">

<div class="main_containner">

<div class="header">
	<div class="header_text">สถิติการว่างงานในประเทศไทย</div>
</div>

<!--
<h2>สถานการณ์ปัจุบัน</h2>
<div class="content_block">
	<div id="infovis"> </div>
</div>-->

<h2>แนวโน้มการว่างงาน</h2>
<div class="content_block">
	<div class="inlined_box">
		ผู้มีงานทำ<div id="employed_trend" class="overall_trend"> </div>
	</div>
	<div class="inlined_box" style="width: 12px;"> </div>
	<div class="inlined_box">
		ผู้ว่างงาน<div id="unemployed_trend" class="overall_trend"> </div>
	</div>
	<div class="inlined_box" style="width: 12px;"> </div>
  	<div class="inlined_box">
		ผู้รอฤดูกาล<div id="season_inactive_trend" class="overall_trend"> </div>
	</div>
	
	ตกลงงานกันน้อยลงนะลูก ดีใจด้วย :D
</div>
  	
<h2>จำนวนผู้มีงานทำแบ่งตามเพศ</h2>

<div class="content_block">
	<div class="inlined_box">
		จำนวนผู้มีงานทำ ชาย - หญิง<div id="male_female_quan_chart" class="sex_trend"> </div>
	</div>
	<div class="inlined_box" style="width: 16px;"> </div>
	<div class="inlined_box">
		เปอร์เซ็นต์ผู้มีงานทำ ชาย - หญิง<div id="male_female_ratio_chart" class="sex_trend"> </div>
	</div>
</div>

<h2>ผู้ว่างงานแบ่งตามวุฒิการศึกษาสูงสุด</h2>
<div class="content_block">
	<div class="inlined_box">
		<div id="unemploy_by_degree_chart" class="degree_trend"> </div>
	</div>
	<div class="inlined_box" style="width: 16px;"> </div>
	<div class="inlined_box">
		<div id="unemploy_by_degree_trend" class="degree_trend"> </div>
	</div>
</div>

<h2>Timeline จำนวนผู้มีงานทำ หรือเอาเป็นผู้ว่างงานดี ?</h2>
<div class="content_block">
	<!--<div id="unemploy_timeplot" style="height: 150px;"> </div>-->
</div>

<h2>รายละเอียดของแต่ละปี</h2>
<div class="content_block">
	<a href="#"><div class="year_block" onclick="select_view_year('2548'); return false;">2548</div></a>
	<a href="#"><div class="year_block" onclick="select_view_year('2549'); return false;">2549</div></a>
	<a href="#"><div class="year_block" onclick="select_view_year('2550'); return false;">2550</div></a>
	<a href="#"><div class="year_block" onclick="select_view_year('2551'); return false;">2551</div></a>
	<a href="#"><div class="year_block" onclick="select_view_year('2552'); return false;">2552</div></a>
	<a href="#"><div class="year_block" onclick="select_view_year('2553'); return false;">2553</div></a>
	<a href="#"><div class="year_block" onclick="select_view_year('2554'); return false;">2554</div></a>
	<a href="#"><div class="year_block" class="selected_year_block" onclick="select_view_year('2555'); return false;">2555</div></a>
	<div id="unemploy_map" style="width: 500px; height: 400px;"> </div>
</div>

<div class="reference_block">
	ข้อมูลทั้งหมดขโมยมาจาก 
</div>

</div>

</body>
</html>
