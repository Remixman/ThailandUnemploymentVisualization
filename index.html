<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>สถิติการว่างงานในประเทศไทย</title>

<link type="text/css" rel="stylesheet" href="css/base.css" />
<link type="text/css" rel="stylesheet" href="css/Icicle.css" />
<link type="text/css" rel="stylesheet" href="css/infostyle.css" />
  	
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" src="http://api.simile-widgets.org/timeplot/1.1/timeplot-api.js"></script>
<script type="text/javascript" src="js/jit.js"></script>
<script type="text/javascript" src="js/icicle.js"></script>
<script type="text/javascript" src="js/data.js"></script>

<script type="text/javascript">
	google.load("visualization", "1", {packages:["corechart","geochart"]});
	google.setOnLoadCallback(drawChart);

	function drawOverallTrendPercentageChart() {
		var employData = google.visualization.arrayToDataTable([
					['Year', 'Percent'],
					['48', 97.5788513],
					['49', 97.9591125],
					['50', 98.1253685],
					['51', 98.1862925],
					['52', 98.1251729],
					['53', 98.431458],
					['54', 98.8262533],
					['55', 98.8106211],
		]);
		
		var unemployData = google.visualization.arrayToDataTable([
					['Year', 'Percent'],
					['48', 1.83487237],
					['49', 1.514537691],
					['50', 1.376415143],
					['51', 1.384548131],
					['52', 1.489419888],
					['53', 1.040748234],
					['54', 0.67915991],
					['55', 0.657468476],
		]);
		
		var seasonData = google.visualization.arrayToDataTable([
					['Year', 'Percent'],
					['48', 0.586277696],
					['49', 0.526348452],
					['50', 0.498216399],
					['51', 0.429158727],
					['52', 0.385406588],
					['53', 0.527794451],
					['54', 0.494586839],
					['55', 0.531910378],
		]);
		
		var options = {
			legend: {
				position: 'none'
			},
			vAxis: {
				title: '%',
				textPosition: 'out'
			},
			hAxis: {
				title: 'ปี (พ.ศ.)'
			},
			chartArea: {
				width: 200
			}
		};

		var chart = new google.visualization.LineChart(document.getElementById('employed_trend'));
		chart.draw(employData, options);
		
		var chart2 = new google.visualization.LineChart(document.getElementById('unemployed_trend'));
		chart2.draw(unemployData, options);
		
		var chart3 = new google.visualization.LineChart(document.getElementById('season_inactive_trend'));
		chart3.draw(seasonData, options);
	}
      
	function drawMaleFemaleQuantityChart() {
		
		// Line Chart API Document
		// https://google-developers.appspot.com/chart/interactive/docs/gallery/linechart
		
		var data = google.visualization.arrayToDataTable([
					['Year', 'ชาย',      'หญิง'],
					['48', 19334658.5,  15922514.25],
					['49', 19416435.5,  16269094],
					['50', 19695739.25, 16553714.75],
					['51', 20092424,    16924188],
					['52', 20489253.25, 17217068],
					['53', 20652483.195375, 17384858.856125],
					['54', 20814282.4875, 17650384.34],
					['55', 21129083.6325, 17810046.35]
		]);

		var options = {
			//backgroundColor: '#aaaaaa',
			colors: ['#96d4e1', '#ef8eb7'],
			legend: {
				position: 'none'
			},
			vAxis: {
				title: 'จำนวน',
				minValue: 10000000,
				maxValue: 25000000,
				count: 5000000
			},
			hAxis: {
				title: 'ปี',
				titleTextStyle: {
					color: 'black',
  					//fontName: <string>,
					//fontSize: <number>,
					//bold: <boolean>,
					italic: false 
				}
			},
			chartArea: {
				width: 320
			}
		};

		var chart = new google.visualization.LineChart(document.getElementById('male_female_quan_chart'));
		chart.draw(data, options);
	}

	function drawMaleFemaleRatioChart() {
		var data = google.visualization.arrayToDataTable([
					['Year', 'Male',  'Female'],
					['48', 0.79162, 0.62706],
					['49', 0.79301, 0.62967],
					['50', 0.79563, 0.62967],
					['51', 0.79740, 0.63374],
					['52', 0.79810, 0.63428],
					['53', 0.79472, 0.63276],
					['54', 0.79315, 0.63579],
					['55', 0.79792, 0.63531]
		]);

		var options = {
			colors: ['#96d4e1', '#ef8eb7'],
			legend: {
				position: 'none'
			},
			hAxis: {
				title: 'ปี',
				titleTextStyle: {
					color: 'black',
  					//fontName: <string>,
					//fontSize: <number>,
					//bold: <boolean>,
					italic: false 
				}
			},
			chartArea: {
				width: 320
			}
		};

		var chart = new google.visualization.LineChart(document.getElementById('male_female_ratio_chart'));
		chart.draw(data, options);
	}
	
	function drawUnemployedByDegreeChart(year, div_id) {
		var unemploy_data = {};
		unemploy_data['2548'] = new Array(38.7, 21.9, 11.4, 4.6, 7.9, 15.5);
		unemploy_data['2549'] = new Array(36.6, 21.6, 13.1, 4.3, 6.2, 18.2);
		unemploy_data['2550'] = new Array(32.8, 22.1, 13.2, 4.6, 8.4, 18.9);
		unemploy_data['2551'] = new Array(31.4, 23.8, 12.7, 5.6, 8.4, 18.2);
		unemploy_data['2552'] = new Array(30, 23.3, 12.5, 5.9, 9.2, 19.1);
		unemploy_data['2553'] = new Array(27, 22.6, 12.1, 5.3, 8.4, 24.5);
		unemploy_data['2554'] = new Array(26.7, 21.8, 12.7, 5.2, 9.1, 24.5);
		unemploy_data['2555'] = new Array(22, 22.8, 14.9, 5.1, 10, 25.2);

		var data = google.visualization.arrayToDataTable([
					['วุฒิการศึกษา'        , 'Percent',],
					['ประถม/ต่ำกว่า' , unemploy_data[year][0]],
					['มัธยมต้น'           , unemploy_data[year][1]],
					['มัธยมปลาย'         , unemploy_data[year][2]],
					['อาชีวศึกษา'          , unemploy_data[year][3]],
					['วิชาชีพชั้นสูง'         , unemploy_data[year][4]],
					['อุดมศึกษา'           , unemploy_data[year][5]]
		]);
		
		// BarGraph API Documents
		// https://google-developers.appspot.com/chart/interactive/docs/gallery/barchart
		
		var options = {
			legend: {
				position: 'top'
			},
			//title: 'Company Performance',
			//vAxis: {title: 'Year',  titleTextStyle: {color: 'red'}}
			colors: ['#eb6750'],
			legend: {
				position: 'none',
			},
			hAxis: {
				title: 'เปอร์เซ็นต์ (%)',
				ticks: [0, 5, 10, 15, 20, 25, 30],
				gridlines: {
					count: 5
				}
			},
			vAxis: {
				title: 'วุฒิการศึกษาสูงสุด'
			}
        };
        
        if (div_id == 'unemploy_degree') {
        	options.hAxis.ticks = [0, 5, 10, 15, 20, 25, 30, 35, 40];
        }

        var chart = new google.visualization.BarChart(document.getElementById(div_id));
        chart.draw(data, options);

	}
	
	function drawUnemployedByDegreeTrendChart() {
		var data = google.visualization.arrayToDataTable([
					['Year', 'ประถม/ต่ำกว่า', 'มัธยมต้น', 'มัธยมปลาย', 'อาชีวศึกษา', 'วิชาชีพชั้นสูง', 'อุดมศึกษา'],
					['48', 38.7, 21.9, 11.4, 4.6, 7.9, 15.5],
					['49', 36.6, 21.6, 13.1, 4.3, 6.2, 18.2],
					['50', 32.8, 22.1, 13.2, 4.6, 8.4, 18.9],
					['51', 31.4, 23.8, 12.7, 5.6, 8.4, 18.2],
					['52', 30, 23.3, 12.5, 5.9, 9.2, 19.1],
					['53', 27, 22.6, 12.1, 5.3, 8.4, 24.5],
					['54', 26.7, 21.8, 12.7, 5.2, 9.1, 24.5],
					['55', 22, 22.8, 14.9, 5.1, 10, 25.2]
		]);
		
		var options = {
		};

		var chart = new google.visualization.LineChart(document.getElementById('unemploy_by_degree_trend'));
		chart.draw(data, options);
	}
	
	function drawRelationChart(another_variable) {
		var data = google.visualization.arrayToDataTable([
					['Age', 'Weight'],
					[ 8,      12],
					[ 4,      5.5],
					[ 11,     14],
					[ 4,      5],
					[ 3,      3.5],
					[ 6.5,    7]
        ]);
        
        var options = {
			title: 'Age vs. Weight comparison',
			hAxis: {title: 'Age', minValue: 0, maxValue: 15},
			vAxis: {title: 'Weight', minValue: 0, maxValue: 15},
			legend: 'none'
        };

		var chart = new google.visualization.ScatterChart(document.getElementById('relation_chart'));
        chart.draw(data, options);
	}
	
	function drawUnemployedMap(year) {
		
		var unemploy_region_data = {};
		unemploy_region_data['2548'] = google.visualization.arrayToDataTable(map_2548_data);
		unemploy_region_data['2549'] = google.visualization.arrayToDataTable(map_2549_data);
		unemploy_region_data['2550'] = google.visualization.arrayToDataTable(map_2550_data);
		unemploy_region_data['2551'] = google.visualization.arrayToDataTable(map_2551_data);
		unemploy_region_data['2552'] = google.visualization.arrayToDataTable(map_2552_data);
		unemploy_region_data['2553'] = google.visualization.arrayToDataTable(map_2553_data);
		unemploy_region_data['2554'] = google.visualization.arrayToDataTable(map_2554_data);
		unemploy_region_data['2555'] = google.visualization.arrayToDataTable(map_2555_data);

		var options = {
			region: 'TH',
			displayMode: 'region',
			resolution: 'provinces',
			//width: 600,
			//height: 600,
			magnifyingGlass: {
				enable: true, 
				zoomFactor: 2.0
			},
			colorAxis: {
				minValue: 0.0,
				maxValue: 0.039,
				colors: ['#ffffff', '#eb6750']
			}
		};

        var chart = new google.visualization.GeoChart(document.getElementById('unemploy_map'));
        chart.draw(unemploy_region_data[year], options);
	}

	function drawChart() {
		drawOverallTrendPercentageChart();
		
		drawMaleFemaleQuantityChart();
		drawMaleFemaleRatioChart();
		
		drawUnemployedByDegreeChart('2555', 'unemploy_by_degree_chart');
		drawUnemployedByDegreeTrendChart();
		
		drawRelationChart();
		
		// By year
		drawUnemployedMap('2555');
		drawUnemployedByDegreeChart('2555', 'unemploy_degree');
	}
	
	/* Simile Timeplot function */
	var timeplot;
	function initTimeplotOnLoad() {
		var unemployrateSource = new Timeplot.DefaultEventSource();
		var eventSource = new Timeplot.DefaultEventSource();
		
		var timeGeometry = new Timeplot.DefaultTimeGeometry({
			gridColor: new Timeplot.Color("#000000"),
			axisLabelsPlacement: "top"
		});

		var valueGeometry = new Timeplot.DefaultValueGeometry({
			gridColor: "#000000",
			axisLabelsPlacement: "left",
			min: 0,
			max: 1
		});
		
		var plotInfo = [
			Timeplot.createPlotInfo({
				id: "Unemployed Rate",
				dataSource: new Timeplot.ColumnSource(unemployrateSource,1),
				timeGeometry: timeGeometry,
				valueGeometry: valueGeometry,
				lineColor: "#ff0000",
				fillColor: "#cc8080",
				showValues: true
			}),
  			Timeplot.createPlotInfo({
    			id: "Event",
    			timeGeometry: timeGeometry,
    			eventSource: eventSource2,
    			lineColor: "#03212E"
  			})
		];

		timeplot = Timeplot.create(document.getElementById("unemploy_timeplot"), plotInfo);
		timeplot.loadText("unemployrate_2004-2012.txt", ",", unemployrateSource);
		timeplot.loadXML("event.xml", eventSource);
	}
	
	var resizeTimerID = null;
	function initTimeplotOnResize() {
		if (resizeTimerID == null) {
			resizeTimerID = window.setTimeout(function() {
				resizeTimerID = null;
				timeplot.repaint();
 			}, 100);
		}
	}
	
	function initGraph() {
		init();
		initTimeplotOnLoad();
	}
	
	function resizeGraph() {
		initTimeplotOnResize();
	}
	
	function select_view_relation(variablename) {
		document.getElementById('var_block_employee').className = 'var_block';
		document.getElementById('var_block_register').className = 'var_block';
		document.getElementById('var_block_factory').className = 'var_block';
		document.getElementById('var_block_ni').className = 'var_block';
		document.getElementById('var_block_gdp').className = 'var_block';

		document.getElementById('var_block_' + variablename).className = 'selected_var_block';
		
		return false;
	}
	
	function select_view_year(year) {
		drawUnemployedMap(year);
		drawUnemployedByDegreeChart(year, 'unemploy_degree');
		
		// TODO: replace with loop
		document.getElementById('year_block_2548').className = 'year_block';
		document.getElementById('year_block_2549').className = 'year_block';
		document.getElementById('year_block_2550').className = 'year_block';
		document.getElementById('year_block_2551').className = 'year_block';
		document.getElementById('year_block_2552').className = 'year_block';
		document.getElementById('year_block_2553').className = 'year_block';
		document.getElementById('year_block_2554').className = 'year_block';
		document.getElementById('year_block_2555').className = 'year_block';
		
		document.getElementById('year_block_' + year).className = 'selected_year_block';
		
		return false;
	}
</script>

</head>

<body onload="initGraph();" onresize="resizeGraph();">

<div class="main_containner">

<div class="header">
	<div class="header_text">สถิติการว่างงานในประเทศไทย</div>
</div>

<h2>สถานการณ์ปัจุบัน</h2>
<div class="content_block">
	<div id="infovis"> </div>
	http://www.gfmag.com/component/content/article/119-economic-data/12384-worlds-unemployment-ratescom.html#axzz2h68KBJMl
</div>

<h2>แนวโน้มการว่างงาน</h2>
<div class="content_block">
	<div class="inlined_box">
		ผู้มีงานทำ<div id="employed_trend" class="overall_trend"> </div>
	</div>
	<div class="inlined_box" style="width: 12px;"> </div>
	<div class="inlined_box">
		ผู้ว่างงาน<div id="unemployed_trend" class="overall_trend"> </div>
	</div>
	<div class="inlined_box" style="width: 12px;"> </div>
  	<div class="inlined_box">
		ผู้รอฤดูกาล<div id="season_inactive_trend" class="overall_trend"> </div>
	</div>
	
	ตกลงงานกันน้อยลงนะลูก ดีใจด้วย :D
</div>
  	
<h2>จำนวนผู้มีงานทำแบ่งตามเพศ</h2>

<div class="content_block">
	<div class="inlined_box">
		จำนวนผู้มีงานทำ <img src="img/male.png" /><div style="color: #96d4e1; display: inline-block">ชาย</div> - 
		<img src="img/female.png" /><div style="color: #ef8eb7; display: inline-block">หญิง</div>
		<div id="male_female_quan_chart" class="sex_trend"> </div>
	</div>
	<div class="inlined_box" style="width: 16px;"> </div>
	<div class="inlined_box">
		เปอร์เซ็นต์ผู้มีงานทำ  <img src="img/male.png" /><div style="color: #96d4e1; display: inline-block">ชาย</div> - 
		<img src="img/female.png" /><div style="color: #ef8eb7; display: inline-block">หญิง</div>
		<div id="male_female_ratio_chart" class="sex_trend"> </div>
	</div>
</div>

<h2>ผู้ว่างงานแบ่งตามวุฒิการศึกษาสูงสุด</h2>
<div class="content_block">
	<div class="inlined_box">
		<div id="unemploy_by_degree_trend" class="degree_trend"> </div>
	</div>
	<div class="inlined_box" style="width: 16px;"> </div>
	<div class="inlined_box">
		<div id="unemploy_by_degree_chart" class="degree_trend"> </div>
	</div>
</div>

<h2>Timeline จำนวนผู้มีงานทำ หรือเอาเป็นผู้ว่างงานดี ?</h2>
<div class="content_block">
	<div id="unemploy_timeplot" style="height: 180px;"> </div>
</div>

<h2>ความสัมพันธ์กับข้อมูลอื่น</h2>
<div class="select_bar">
	<a href="#"><div id="var_block_employee" class="selected_var_block" onclick="select_view_relation('employee'); return false;">จำนวนลูกจ้าง</div></a>
	<a href="#"><div id="var_block_register" class="var_block" onclick="select_view_relation('register'); return false;">จำนวนการจดทะเบียนนิติบุคคล</div></a>
	<a href="#"><div id="var_block_factory" class="var_block" onclick="select_view_relation('factory'); return false;">จำนวนโรงงานอุตสาหกรรม</div></a>
	<a href="#"><div id="var_block_ni" class="var_block" onclick="select_view_relation('ni'); return false;">รายได้ประชาชาติ (NI)</div></a>
	<a href="#"><div id="var_block_gdp" class="var_block" onclick="select_view_relation('gdp'); return false;">ผลิตภัณฑ์มวลรวมในประเทศ (GDP)</div></a>
</div>
<div class="content_block">
	<div id="relation_chart"> </div>
</div>

<h2>รายละเอียดของแต่ละปี</h2>
<div class="select_bar">
	<a href="#"><div id="year_block_2548" class="year_block" onclick="select_view_year('2548'); return false;">2548</div></a>
	<a href="#"><div id="year_block_2549" class="year_block" onclick="select_view_year('2549'); return false;">2549</div></a>
	<a href="#"><div id="year_block_2550" class="year_block" onclick="select_view_year('2550'); return false;">2550</div></a>
	<a href="#"><div id="year_block_2551" class="year_block" onclick="select_view_year('2551'); return false;">2551</div></a>
	<a href="#"><div id="year_block_2552" class="year_block" onclick="select_view_year('2552'); return false;">2552</div></a>
	<a href="#"><div id="year_block_2553" class="year_block" onclick="select_view_year('2553'); return false;">2553</div></a>
	<a href="#"><div id="year_block_2554" class="year_block" onclick="select_view_year('2554'); return false;">2554</div></a>
	<a href="#"><div id="year_block_2555" class="selected_year_block" onclick="select_view_year('2555'); return false;">2555</div></a>
</div>
<div class="content_block">
	<div class="inlined_box">
		<div id="unemploy_map"> </div>
	</div>
	<div class="inlined_box">
		<div id="unemploy_degree"> </div>
	</div>
</div>

<div class="reference_block">
	ที่มา: การสำรวจภาวะการทำงานของประชากร  สำนักงานสถิติแห่งชาติ กระทรวงเทคโนโลยีสารสนเทศและการสื่อสาร<br /> 
	รวบรวมโดย: สำนักสถิติพยากรณ์ สำนักงานสถิติแห่งชาติ (<a href="http://service.nso.go.th/nso/nsopublish/BaseStat/basestat.html" target="_blank">NSO</a>)
</div>

</div>

</body>
</html>
